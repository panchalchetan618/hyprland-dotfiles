general {
    gaps_in = 4
    gaps_out = 8

    border_size = 0

    # https://wiki.hypr.land/Configuring/Variables/#variable-types for info about colors
    col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)

    # Set to true enable resizing windows by clicking and dragging on borders and gaps
    resize_on_border = false

    # Please see https://wiki.hypr.land/Configuring/Tearing/ before you turn this on
    allow_tearing = false

    layout = dwindle
}

decoration {
    rounding = 14

    blur {
        enabled = yes
        size = 8
        passes = 4
        new_optimizations = on
        ignore_opacity = on
        xray = false
        popups = true
        popups_ignorealpha = 0.15

        noise = 0.02
        contrast = 1.1
        brightness = 1.05
        vibrancy = 0.2
        vibrancy_darkness = 0.0
    }

    shadow {
        enabled = yes
        range = 30
        render_power = 3
        color = rgba(00000066)
    }
}

animations {
    enabled = yes

    bezier = easeOutQuint, 0.23, 1, 0.32, 1
    bezier = smoothInOut,  0.4,  0, 0.2,  1
    bezier = quickFade,   0.2,  0, 0.1,  1
    bezier = macEase, 0.25, 1, 0.5, 1

    animation = global,      1,  8,  easeOutQuint
    animation = windows,     1,  4,  easeOutQuint
    animation = windowsIn,   1,  4,  easeOutQuint, popin 90%
    animation = windowsOut,  1,  2,  smoothInOut,  popin 90%

    animation = fade,        1,  3,  quickFade
    animation = layers,      1,  3,  macEase
    animation = fadeLayersIn, 1, 3, macEase
    animation = fadeLayersOut, 1, 2, macEase
    animation = layersIn,    1,  4,  easeOutQuint, fade
    animation = layersOut,   1,  2,  smoothInOut,  fade

    animation = workspaces,  1,  2,  macEase
}

dwindle {
    pseudotile = true
    preserve_split = true
}

master {
    new_status = master
}

misc {
    force_default_wallpaper = -1
    disable_hyprland_logo = true
}

windowrulev2 = opacity 0.88, class:^(kitty)$
windowrulev2 = opacity 0.92, class:^(foot)$
windowrulev2 = opacity 0.90, class:^(Alacritty)$

windowrulev2 = noblur, class:^(mpv)$

# Floating popup windows (calendar, sysmon, etc.)
windowrulev2 = float, class:^(floating-.*)$
windowrulev2 = size 450 350, class:^(floating-calendar)$
windowrulev2 = move 60% 5%, class:^(floating-calendar)$
windowrulev2 = size 500 600, class:^(floating-sysmon)$
windowrulev2 = move 55% 5%, class:^(floating-sysmon)$
windowrulev2 = pin, class:^(floating-.*)$

# yad popups
windowrulev2 = float, class:^(yad)$
windowrulev2 = pin, class:^(yad)$

# Wofi/rofi launcher styling
windowrulev2 = float, class:^(wofi)$
windowrulev2 = stayfocused, class:^(wofi)$
windowrulev2 = float, class:^(rofi)$
windowrulev2 = stayfocused, class:^(rofi)$

# pavucontrol (volume control)
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = size 800 500, class:^(pavucontrol)$
windowrulev2 = center, class:^(pavucontrol)$

# nm-connection-editor
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = size 700 500, class:^(nm-connection-editor)$
windowrulev2 = center, class:^(nm-connection-editor)$

# ===== LAYER RULES (blur for panels/popups) =====
layerrule = blur on, xray off, ignore_alpha 0.3, match:namespace waybar
layerrule = blur on, xray off, ignore_alpha 0.1, match:namespace rofi
layerrule = blur on, xray off, ignore_alpha 0.2, animation slide, match:namespace swaync-control-center
layerrule = blur on, xray off, ignore_alpha 0.2, animation slide, match:namespace swaync-notification-window
layerrule = blur on, xray off, ignore_alpha 0.2, match:namespace gtk-layer-shell
